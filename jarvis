#!/bin/bash

# Script global para executar o Jarvis de qualquer lugar
# Uso: jarvis

echo "ğŸ¤– Iniciando Jarvis - Assistente de Voz Local"
echo "=============================================="

# DiretÃ³rio do Jarvis
JARVIS_DIR="/home/gustavo/code/jarvis"

# Verificar se o diretÃ³rio existe
if [ ! -d "$JARVIS_DIR" ]; then
    echo "âŒ DiretÃ³rio do Jarvis nÃ£o encontrado: $JARVIS_DIR"
    exit 1
fi

# Ir para o diretÃ³rio do Jarvis
cd "$JARVIS_DIR"

# Verificar se o ambiente virtual existe
if [ ! -d "jarvis_env" ]; then
    echo "âŒ Ambiente virtual nÃ£o encontrado"
    echo "ğŸ’¡ Execute primeiro: cd $JARVIS_DIR && ./install.sh"
    exit 1
fi

# Ativar ambiente virtual
echo "ğŸ”§ Ativando ambiente virtual..."
source jarvis_env/bin/activate

# Carregar configuraÃ§Ãµes
if [ -f ".jarvis_config" ]; then
    echo "âš™ï¸  Carregando configuraÃ§Ãµes..."
    source .jarvis_config
else
    echo "âš ï¸  Arquivo de configuraÃ§Ã£o nÃ£o encontrado"
fi

# Verificar chave do Porcupine
if [ -z "$PORCUPINE_ACCESS_KEY" ]; then
    echo "âŒ Chave do Porcupine nÃ£o configurada"
    echo "ğŸ’¡ Configure sua chave em $JARVIS_DIR/.jarvis_config"
    exit 1
fi

echo "âœ… ConfiguraÃ§Ã£o verificada"
echo "ğŸ¤ Iniciando Jarvis..."
echo "ğŸ’¡ Diga 'Jarvis' seguido de um comando"
echo "ğŸ’¡ Pressione Ctrl+C para sair"
echo ""

# Executar Jarvis Final
python jarvis_final.py
